# FilmSite - Веб-сайт для перегляду інформації про фільми

Цей проект є веб-сайтом для перегляду інформації про фільми, створений в рамках курсового проекту. Він включає frontend на React (з TypeScript) та backend на Node.js/Express (з TypeScript).

## Функціонал

*   Перегляд списку фільмів з пагінацією, пошуком та фільтрацією.
*   Детальна сторінка для кожного фільму з описом, трейлером, режисером, жанром та датою випуска.
*   Реєстрація та авторизація користувачів.
*   Можливість залишати коментарі до фільмів для авторизованих користувачів.
*   Адміністративна панель для керування фільмами (додавання, редагування, видалення).
*   Віджет погоди.
*   Динамічна зміна теми (світла/темна) в залежності від часу доби.

## Технології

**Frontend:**
*   React
*   TypeScript
*   React Router
*   CSS

**Backend:**
*   Node.js
*   Express.js
*   TypeScript
*   JWT (JSON Web Tokens) для автентифікації
*   bcryptjs для хешування паролів
*   Дані зберігаються у JSON файлах (`backend/data/`)


## Інструкції для локального запуску

1.  **Клонуйте репозиторій:**
    ```bash
    git clone <URL_вашого_репозиторію>
    cd film-site
    ```

2.  **Налаштування та запуск Backend:**

    *   Перейдіть до папки backend:
        ```bash
        cd backend
        ```
    *   Встановіть залежності:
        ```bash
        npm install
        ```
    *   Створіть файл `.env` в корені папки `backend` (тобто `backend/.env`).
    *   Додайте до файлу `backend/.env` наступні змінні оточення, замінивши значення на ваші:
        ```env
        JWT_SECRET=ВАШ_ДОВГИЙ_СЕКРЕТНИЙ_КЛЮЧ_ТУТ_123!@#
        REACT_APP_OPENWEATHER_API_KEY=ВАШ_API_КЛЮЧ_З_OPENWEATHERMAP
        ```
        **Важливо:**
        *   `JWT_SECRET`: Це має бути довгий, випадковий та унікальний рядок, який використовується для підпису JWT токенів. Не використовуйте простий або стандартний ключ. Ви можете згенерувати його за допомогою будь-якого генератора паролів.
        *   `REACT_APP_OPENWEATHER_API_KEY`: Ваш API ключ з сайту [OpenWeatherMap](https://openweathermap.org/api) для роботи віджету погоди. Без цього ключа віджет погоди не зможе завантажувати дані.
    *   Запустіть backend сервер:
        ```bash
        npm run dev
        ```
        Сервер має запуститися на `http://localhost:5000`.

3.  **Налаштування та запуск Frontend:**

    *   Відкрийте новий термінал або перейдіть з папки `backend` до папки `frontend`:
        ```bash
        cd ../frontend
        ```
        (Якщо ви в кореневій папці проекту, то просто `cd frontend`)
    *   Встановіть залежності:
        ```bash
        npm install
        ```
    *   Запустіть frontend додаток (сервер розробки):
        ```bash
        npm start
        ```
        Сервер розробки React має автоматично відкрити ваш сайт у браузері за адресою `http://localhost:3000`. Якщо він не відкрився автоматично, перейдіть за цією адресою вручну.

4.  **Доступ до сайту:**
    *   Frontend доступний за адресою: `http://localhost:3000`
    *   Backend API доступне за базовою адресою: `http://localhost:5000/api`

## Можливі проблеми

*   **Конфлікт портів:** Якщо порт `3000` або `5000` вже зайнятий іншим процесом на вашому комп'ютері, ви можете отримати помилку. `npm start` для React зазвичай пропонує запуститися на іншому порту автоматично. Для backend сервера ви можете змінити порт у `backend/src/index.ts` (змінна `port`) або через змінну оточення `PORT`.
*   **Помилки при встановленні залежностей:** Переконайтеся, що у вас стабільне інтернет-з'єднання та актуальна версія `npm`. Іноді може допомогти видалення папки `node_modules` та файлу `package-lock.json` (або `yarn.lock`) та повторне виконання `npm install`.
*   **Неправильний API ключ для OpenWeatherMap:** Якщо віджет погоди показує помилку, перевірте правильність вашого `REACT_APP_OPENWEATHER_API_KEY` у файлі `backend/.env` та чи активований цей ключ на сайті OpenWeatherMap.

## Обліковий запис Адміністратора

У системі попередньо налаштований обліковий запис адміністратора з наступними даними для входу:

*   **Email:** `admin@gmail.com`
*   **Пароль:** `admin`

Використовуйте ці дані для входу, щоб отримати доступ до адміністративної панелі.

Якщо ви бажаєте створити нового адміністратора:
1. Зареєструйте нового користувача через звичайну форму реєстрації на сайті.
2. Відкрийте файл `backend/data/users.json`.
3. Знайдіть щойно зареєстрованого користувача та змініть його поле `"role": "user"` на `"role": "admin"`.
4. Збережіть файл `users.json`.
5. Перелогіньтеся, використовуючи дані цього користувача.